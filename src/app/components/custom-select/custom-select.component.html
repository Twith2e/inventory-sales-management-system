<div class="flex flex-col">
  <div class="wrapper">
    <label for="item">Item</label>
    <span
      (click)="extend(); searchInput.focus()"
      class="flex items-center justify-between w-full bg-white py-1 px-3 cursor-pointer"
      [ngClass]="{ 'rounded-t-md': isExtended(), 'rounded-md': !isExtended() }"
    >
      <span class="text-gray-500 text-xs">{{ transactService.text() }}</span>
      <span
        ><button>
          @if (isExtended()) {
          <fa-icon class="text-xs" [icon]="upIcon"></fa-icon>

          }@else {
          <fa-icon class="text-xs" [icon]="downIcon"></fa-icon>
          }
        </button></span
      >
    </span>
  </div>
  <div
    class="flex flex-col border-t-[#e9e9e9] border-t-1 h-50 bg-white rounded-b-md content"
    [ngClass]="{ expanded: isExtended() }"
  >
    <div class="my-2 px-2">
      <input
        #searchInput
        (input)="filterProducts($event)"
        class="border-1 border-[#e9e9e9] ps-2 focus:ring-blue-400 focus:ring-1 rounded-sm outline-none"
        type="text"
      />
    </div>

    <ul class="overflow-auto h-fit pb-2 mb-3 text-sm">
      <li
        (click)="pickItem($event)"
        value=""
        class="px-2 py-1 cursor-pointer bg-gray-300 text-gray-100"
      >
        Select Item
      </li>
      @if(transactService.items().length > 0){ @for (item of filteredItems();
      track $index) {
      <li
        value="{{ item }}"
        (click)="pickItem($event)"
        class="px-2 py-1 cursor-pointer hover:bg-[#33333335]"
      >
        {{ item }}
      </li>
      } }
    </ul>
  </div>
</div>
